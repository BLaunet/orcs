<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Orcs module &mdash; Orcs 0.9.3 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.9.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="_static/logo.ico"/>
    <link rel="top" title="Orcs 0.9.3 documentation" href="index.html" />
    <link rel="next" title="RVCorrect module" href="rvcorrect_module.html" />
    <link rel="prev" title="Quick start Guide" href="quick_start.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rvcorrect_module.html" title="RVCorrect module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quick_start.html" title="Quick start Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Orcs 0.9.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Orcs module</a><ul>
<li><a class="reference internal" href="#orcs-class">Orcs class</a></li>
<li><a class="reference internal" href="#spectralcube-class">SpectralCube class</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="quick_start.html"
                        title="previous chapter">Quick start Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="rvcorrect_module.html"
                        title="next chapter">RVCorrect module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/orcs_module.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="orcs-module">
<h1><a class="toc-backref" href="#id1">Orcs module</a><a class="headerlink" href="#orcs-module" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#orcs-module" id="id1">Orcs module</a><ul>
<li><a class="reference internal" href="#orcs-class" id="id2">Orcs class</a></li>
<li><a class="reference internal" href="#spectralcube-class" id="id3">SpectralCube class</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="orcs-class">
<h2><a class="toc-backref" href="#id2">Orcs class</a><a class="headerlink" href="#orcs-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="orcs.orcs.Orcs">
<em class="property">class </em><code class="descclassname">orcs.orcs.</code><code class="descname">Orcs</code><span class="sig-paren">(</span><em>option_file_path</em>, <em>config_file_name='config.orb'</em>, <em>overwrite=True</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">orb.core.Tools</span></code></p>
<p>ORCS user-interface.</p>
<p>Manage the option file and the file system. This is the equivalent
in ORCS of <code class="xref py py-meth docutils literal"><span class="pre">orbs.Orbs()</span></code> for ORBS.</p>
<p>Most of the keywords used by ORBS are also used by ORCS. In
general it is easier to include the option file used for the
reduction of the data (using the keyword &#8216;INCLUDE&#8217; followed by the
path to the option file to include) and set the options which are
special to ORCS. e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre>INCLUDE /path/to/orbs.opt # include the ORBS option file

DIRSPEC /path/to/CALIBRATED_SPECTRUM # Path to the spectrum cube folder
LINES [NII]6548,Halpha,[NII]6583,[SII]6716,[SII]6731 # Lines to extract
OBJECT_VELOCITY 170 # in km.s-1, mean velocity of the object
POLY_ORDER 0 # Order of the polynomial used to fit continuum
</pre></div>
</div>
<p>ORCS keywords (for the other keywords see <code class="xref py py-class docutils literal"><span class="pre">orbs.orbs.Orbs</span></code>):</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">INCLUDE:</th><td class="field-body">Include another option file. Note that the already
existing keywords will be overriden. This keyword is thus best
placed at the very beginning of a file. All the keywords (but
the &#8216;protected ones&#8217;) contained it the included file can be
overriden by setting the same keyword after the include (see
<code class="xref py py-class docutils literal"><span class="pre">orb.core.OptionFile</span></code>).</td>
</tr>
<tr class="field-even field"><th class="field-name">DIRSPEC:</th><td class="field-body">Path to the folder containing the spectrum cube</td>
</tr>
<tr class="field-odd field"><th class="field-name">LINES:</th><td class="field-body">Wavelength (in nm) of the lines to extract separated by a
comma. Their full name can also be given but it must respect the list
of recorded lines by <code class="xref py py-class docutils literal"><span class="pre">orb.core.Lines</span></code>.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">OBJECT_VELOCITY:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">(Optional) Mean velocity of the observed object
in km.s-1. This is used to guess the mean shift of the lines.</td>
</tr>
<tr class="field-odd field"><th class="field-name">POLY_ORDER:</th><td class="field-body">(Optional) Order of the polynomial used to fit
continuum. Be extremely careful with high order polynomials.</td>
</tr>
<tr class="field-even field"><th class="field-name">ROI:</th><td class="field-body">(Optional) Region of interest Xmin,Xmax,Ymin,Ymax (in
pixels). Must be intergers separated by a comma, e.g.:
175,250,165,245</td>
</tr>
<tr class="field-odd field"><th class="field-name">SKY_REG:</th><td class="field-body">(Optional) Path to a ds9 region file defining the sky pixels.</td>
</tr>
<tr class="field-even field"><th class="field-name">CALIBMAP:</th><td class="field-body">(Optional) Path to the calibration laser map. Must be
given if the cube has not been wavelength calibrated.</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-class docutils literal"><span class="pre">orbs.orbs.Orbs</span></code></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-class docutils literal"><span class="pre">orb.core.OptionFile</span></code></p>
</div>
<dl class="method">
<dt id="orcs.orcs.Orcs.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>option_file_path</em>, <em>config_file_name='config.orb'</em>, <em>overwrite=True</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Init Orcs class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>option_file_path</strong> &#8211; Path to the option file.</li>
<li><strong>config_file_name</strong> &#8211; (Optional) name of the config file to
use. Must be located in <code class="docutils literal"><span class="pre">orb/data/</span></code></li>
<li><strong>overwrite</strong> &#8211; (Optional) If True, any existing FITS file
created by Orcs will be overwritten during the reduction
process (default False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.Orcs._get_data_prefix">
<code class="descname">_get_data_prefix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs._get_data_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return prefix path to stored data</p>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.Orcs._get_project_dir">
<code class="descname">_get_project_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs._get_project_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path to the project directory depending on 
the project name.</p>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.Orcs._get_project_fits_header">
<code class="descname">_get_project_fits_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs._get_project_fits_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the header of the project that can be added to the
created FITS files.</p>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.Orcs.extract_integrated_spectra">
<code class="descname">extract_integrated_spectra</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs.extract_integrated_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract integrated spectra.</p>
<p>This is a wrapper around
<code class="xref py py-meth docutils literal"><span class="pre">orcs.SpectralCube.extract_integrated_spectra()</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">orcs.SpectralCube.extract_integrated_spectra()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.Orcs.extract_lines_maps">
<code class="descname">extract_lines_maps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs.extract_lines_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract lines maps.</p>
<p>This is a wrapper around
<code class="xref py py-meth docutils literal"><span class="pre">orcs.SpectralCube.extract_lines_maps()</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">orcs.SpectralCube.extract_lines_maps()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.Orcs.extract_raw_lines_maps">
<code class="descname">extract_raw_lines_maps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs.extract_raw_lines_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract raw lines maps.</p>
<p>This is a wrapper around
<code class="xref py py-meth docutils literal"><span class="pre">orcs.SpectralCube.extract_raw_lines_maps()</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">orcs.SpectralCube.extract_raw_lines_maps()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.Orcs.get_helio_velocity">
<code class="descname">get_helio_velocity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs.get_helio_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return heliocentric velocity in km.s-1</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-class docutils literal"><span class="pre">orcs.rvcorrect.RVCorrect</span></code> a
translation in Python of the IRAF function RVCORRECT.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.Orcs.get_lines_fwhm">
<code class="descname">get_lines_fwhm</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs.get_lines_fwhm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the expected value of the lines FWHM in nm or in
cm-1 depending on the cube axis unit.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">orb.utils.compute_line_fwhm()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.Orcs.get_lines_shift">
<code class="descname">get_lines_shift</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs.get_lines_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the expected line shift in nm or in cm-1 depending
on the cube axis unit.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">orb.utils.compute_line_shift()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.Orcs.get_sky_radial_velocity">
<code class="descname">get_sky_radial_velocity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.Orcs.get_sky_radial_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return sky radial velocity</p>
<p>This is a wrapper around
<code class="xref py py-meth docutils literal"><span class="pre">orcs.SpectralCube.get_sky_radial_velocity()</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">orcs.SpectralCube.get_sky_radial_velocity()</span></code></p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="spectralcube-class">
<h2><a class="toc-backref" href="#id3">SpectralCube class</a><a class="headerlink" href="#spectralcube-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="orcs.orcs.SpectralCube">
<em class="property">class </em><code class="descclassname">orcs.orcs.</code><code class="descname">SpectralCube</code><span class="sig-paren">(</span><em>image_list_path</em>, <em>image_mode='classic'</em>, <em>chip_index=1</em>, <em>binning=1</em>, <em>data_prefix='./temp/data.'</em>, <em>config_file_name='config.orb'</em>, <em>project_header=[]</em>, <em>wcs_header=[]</em>, <em>calibration_laser_header=[]</em>, <em>overwrite=False</em>, <em>silent_init=False</em>, <em>no_log=False</em>, <em>tuning_parameters={}</em>, <em>indexer=None</em>, <em>logfile_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">orb.core.Cube</span></code></p>
<p>ORCS spectral cube processing class.</p>
<p>Fit and/or extract spectra.</p>
<dl class="method">
<dt id="orcs.orcs.SpectralCube._add_wcs_header">
<code class="descname">_add_wcs_header</code><span class="sig-paren">(</span><em>hdr</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube._add_wcs_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Add WCS header keywords to a header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>hdr</strong> &#8211; Header to update</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube._convert_fit_result">
<code class="descname">_convert_fit_result</code><span class="sig-paren">(</span><em>fit_result</em>, <em>wavenumber</em>, <em>step</em>, <em>order</em>, <em>axis</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube._convert_fit_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the result from
<code class="xref py py-meth docutils literal"><span class="pre">orb.utils.fit_lines_in_vector()</span></code> in
wavelength/wavenumber.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fit_result</strong> &#8211; Result from fit</li>
<li><strong>wavenumber</strong> &#8211; If True the spectrum is in wavenumber else it
is in wavelength.</li>
<li><strong>step</strong> &#8211; Step size in nm</li>
<li><strong>order</strong> &#8211; Folding order</li>
<li><strong>axis</strong> &#8211; Axis of the spectrum in wavelength or wavenumber.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube._extract_spectrum_from_region">
<code class="descname">_extract_spectrum_from_region</code><span class="sig-paren">(</span><em>region</em>, <em>calibration_coeff_map</em>, <em>wavenumber</em>, <em>step</em>, <em>order</em>, <em>substract_spectrum=None</em>, <em>median=False</em>, <em>silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube._extract_spectrum_from_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the mean spectrum from a region of the cube.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>region</strong> &#8211; A list of the indices of the pixel integrated
in the returned spectrum.</li>
<li><strong>calibration_coeff_map</strong> &#8211; Map of the calibration
coefficient (calibration laser map / calibration laser
wavelength). If the cube is wavelength calibrated this map
must be a map of ones.</li>
<li><strong>wavenumber</strong> &#8211; If True cube is in wavenumber, else it is
in wavelength.</li>
<li><strong>step</strong> &#8211; Step size in nm</li>
<li><strong>order</strong> &#8211; Folding order</li>
<li><strong>median</strong> &#8211; If True the integrated spectrum is the median
of the spectra. Else the integrated spectrum is the mean of
the spectra (Default False).</li>
<li><strong>silent</strong> &#8211; (Optional) If True, nothing is printed (default
False).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Substract_spectrum:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">Remove the given spectrum from the
extracted spectrum before fitting parameters. Useful
to remove sky spectrum. Both spectra must have the same size.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube._fit_lines_in_cube">
<code class="descname">_fit_lines_in_cube</code><span class="sig-paren">(</span><em>lines</em>, <em>step</em>, <em>order</em>, <em>fwhm_guess</em>, <em>wavenumber</em>, <em>calibration_coeff_map</em>, <em>poly_order</em>, <em>filter_range</em>, <em>x_range=None</em>, <em>y_range=None</em>, <em>fix_fwhm=False</em>, <em>fmodel='gaussian'</em>, <em>substract=None</em>, <em>cov_pos=True</em>, <em>cov_fwhm=True</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube._fit_lines_in_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit lines in a spectral cube.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lines</strong> &#8211; searched lines. Must be given in the unit of the
cube (cm-1 if wavenumber is True, nm if False)</li>
<li><strong>step</strong> &#8211; Step size in nm</li>
<li><strong>order</strong> &#8211; Folding order</li>
<li><strong>fwhm_guess</strong> &#8211; Expected lines FWHM. Must be given in the
unit of the cube (cm-1 if wavenumber is True, nm if False)</li>
<li><strong>wavenumber</strong> &#8211; If True the cube is in wavenumber, else it
is in wavelength.</li>
<li><strong>calibration_coeff_map</strong> &#8211; Map of the calibration
coefficient (calibration laser map / calibration laser
wavelength). If the cube is wavelength calibrated this map
must be a map of ones.</li>
<li><strong>poly_order</strong> &#8211; Order of the polynomial used to fit
continuum.</li>
<li><strong>filter_range</strong> &#8211; A tuple giving the min and max
wavelength/wavenumber of the filter bandpass. Must be given
in the unit of the cube (cm-1 if wavenumber is True, nm if
False)</li>
<li><strong>x_range</strong> &#8211; (Optional) Range of pixels along the x axis
where lines are fitted (Default None).</li>
<li><strong>y_range</strong> &#8211; (Optional) Range of pixels along the y axis
where lines are fitted (Default None).</li>
<li><strong>fix_fwhm</strong> &#8211; (Optional) If True FWHM is fixed to
fwhm_guess value (defautl False).</li>
<li><strong>fmodel</strong> &#8211; (Optional) Type of line to fit. Can be
&#8216;gaussian&#8217; or &#8216;sinc&#8217; (default &#8216;gaussian&#8217;).</li>
<li><strong>substract</strong> &#8211; (Optional) If not None this spectrum will be
substracted before fitting.</li>
<li><strong>cov_pos</strong> &#8211; (Optional) Lines positions in each spectrum
are shifted by the same value.</li>
<li><strong>cov_fwhm</strong> &#8211; (Optional) FWHM is the same for all the lines
in each spectrum.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube._get_calibration_coeff_map">
<code class="descname">_get_calibration_coeff_map</code><span class="sig-paren">(</span><em>calibration_laser_map_path</em>, <em>nm_laser</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube._get_calibration_coeff_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the calibration coeff map based on the calibration
laser map and the laser wavelength.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>calibration_laser_map_path</strong> &#8211; Path to the calibration
laser map. If None, the returned calibration laser map will
be a map full of ones.</li>
<li><strong>nm_laser</strong> &#8211; calibration laser wavelength in nm.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube._get_frame_header">
<code class="descname">_get_frame_header</code><span class="sig-paren">(</span><em>file_type</em>, <em>comment=None</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube._get_frame_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Return frame header</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_type</strong> &#8211; Type of file</li>
<li><strong>comment</strong> &#8211; (Optional) Comments on the file type (default
None).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube._get_fwhm_pix">
<code class="descname">_get_fwhm_pix</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube._get_fwhm_pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return fwhm in channels from default lines FWHM</p>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube._get_integrated_spectrum_header">
<code class="descname">_get_integrated_spectrum_header</code><span class="sig-paren">(</span><em>region_name</em>, <em>axis</em>, <em>wavenumber</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube._get_integrated_spectrum_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Return integrated spectrum header</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>axis</strong> &#8211; Axis of the spectrum</li>
<li><strong>region_name</strong> &#8211; Region name</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube._get_map_path">
<code class="descname">_get_map_path</code><span class="sig-paren">(</span><em>line_name</em>, <em>err=False</em>, <em>param='amplitude'</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube._get_map_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the path to a map of one gaussian fit parameter for
one given emission line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>line_name</strong> &#8211; Name of the emission line</li>
<li><strong>param</strong> &#8211; (Optional) Parameter to map. Must be
&#8216;amplitude&#8217;, &#8216;height&#8217;, &#8216;velocity&#8217;, &#8216;fwhm&#8217;, &#8216;chi&#8217; or &#8216;snr&#8217;
(Default &#8216;amplitude&#8217;).</li>
<li><strong>err</strong> &#8211; (Optional) True if the map is an error map (Defaut
False).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube._get_maps_list_path">
<code class="descname">_get_maps_list_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube._get_maps_list_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path to the list of extacted emission lines maps</p>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube.extract_integrated_spectra">
<code class="descname">extract_integrated_spectra</code><span class="sig-paren">(</span><em>regions_file_path</em>, <em>lines</em>, <em>lines_velocity</em>, <em>lines_fwhm</em>, <em>filter_range</em>, <em>wavenumber</em>, <em>step</em>, <em>order</em>, <em>poly_order=0</em>, <em>calibration_laser_map_path=None</em>, <em>nm_laser=None</em>, <em>sky_regions_file_path=None</em>, <em>cov_pos=True</em>, <em>cov_fwhm=True</em>, <em>fix_fwhm=False</em>, <em>fmodel='gaussian'</em>, <em>plot=True</em>, <em>auto_sky_extraction=False</em>, <em>sky_size_coeff=2.0</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube.extract_integrated_spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract integrated spectra and their emission lines parameters.</p>
<p>All parameters of each emission line are mapped. So that for a
gaussian fit with 4 parameters (height, amplitude, shift,
fwhm) 4 maps are created for each fitted emission line in the
cube.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>regions_file_path</strong> &#8211; Path to a ds9 reg file giving the
positions of the regions. Each region is considered as a
different region.</li>
<li><strong>lines</strong> &#8211; Lines rest frame. Must be given in the unit of
the cube (cm-1 if wavenumber is True, nm if False)</li>
<li><strong>lines_velocity</strong> &#8211; Mean Lines velocity in km.s-1.</li>
<li><strong>lines_fwhm</strong> &#8211; Expected FWHM of the lines. Must be given
in the unit of the cube (cm-1 if wavenumber is True, nm if
False)</li>
<li><strong>filter_range</strong> &#8211; A tuple giving the min and max
wavelength/wavenumber of the filter bandpass. Must be given
in the unit of the cube (cm-1 if wavenumber is True, nm if
False)</li>
<li><strong>wavenumber</strong> &#8211; If True the cube is in wavenumber else it
is in wavelength.</li>
<li><strong>step</strong> &#8211; Step size in nm</li>
<li><strong>order</strong> &#8211; Folding order</li>
<li><strong>poly_order</strong> &#8211; Order of the polynomial used to fit
continuum.</li>
<li><strong>calibration_laser_map_path</strong> &#8211; (Optional) If not None the
cube is considered to be uncalibrated in wavelength. In this
case the calibration laser wavelength (nm_laser) must also
be given (default None).</li>
<li><strong>nm_laser</strong> &#8211; (Optional) Calibration laser wavelentgh. Must
be given if calibration_laser_map_path is not None (default
None).</li>
<li><strong>fix_fwhm</strong> &#8211; If True fix FWHM to its guess (default
False).</li>
<li><strong>fmodel</strong> &#8211; (Optional) Type of line to fit. Can be
&#8216;gaussian&#8217; or &#8216;sinc&#8217; (default &#8216;gaussian&#8217;).</li>
<li><strong>cov_pos</strong> &#8211; (Optional) Lines positions in each spectrum
are shifted by the same value.</li>
<li><strong>cov_fwhm</strong> &#8211; (Optional) FWHM is the same for all the lines
in each spectrum.</li>
<li><strong>plot</strong> &#8211; (Optional) If True, plot each intergrated spectrum along
with the its fit (default True).</li>
<li><strong>auto_sky_extraction</strong> &#8211; (Optional) If True and if no sky
region file path is given the sky is taken around the region
and substracted. The radius of the region around is
controlled with sky_size_coeff. Note that this extraction
only works for circular regions (default False).</li>
<li><strong>sky_size_coeff</strong> &#8211; (Optional) Coefficient ofthe
external radius of the sky region (defautl 2.).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Sky_regions_file_path:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">(Optional) Path to a ds9 region file
giving the pixels where the sky spectrum has to be
extracted. This spectrum will be substracted to the spectral
cube before it is fitted (default None).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube.extract_lines_maps">
<code class="descname">extract_lines_maps</code><span class="sig-paren">(</span><em>lines</em>, <em>lines_velocity</em>, <em>lines_fwhm</em>, <em>filter_range</em>, <em>wavenumber</em>, <em>step</em>, <em>order</em>, <em>poly_order=0</em>, <em>calibration_laser_map_path=None</em>, <em>nm_laser=None</em>, <em>sky_regions_file_path=None</em>, <em>cov_pos=True</em>, <em>cov_fwhm=True</em>, <em>fix_fwhm=False</em>, <em>fmodel='gaussian'</em>, <em>x_range=None</em>, <em>y_range=None</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube.extract_lines_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract emission lines parameters maps from a fit.</p>
<p>All parameters of each emission line are mapped. So that for a
gaussian fit with 4 parameters (height, amplitude, shift,
fwhm) 4 maps are created for each fitted emission line in the
cube.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lines</strong> &#8211; Lines rest frame. Must be given in the unit of
the cube (cm-1 if wavenumber is True, nm if False)</li>
<li><strong>lines_velocity</strong> &#8211; Mean Lines velocity in km.s-1.</li>
<li><strong>lines_fwhm</strong> &#8211; Expected FWHM of the lines. Must be given
in the unit of the cube (cm-1 if wavenumber is True, nm if
False)</li>
<li><strong>filter_range</strong> &#8211; A tuple giving the min and max
wavelength/wavenumber of the filter bandpass. Must be given
in the unit of the cube (cm-1 if wavenumber is True, nm if
False)</li>
<li><strong>wavenumber</strong> &#8211; If True the cube is in wavenumber else it
is in wavelength.</li>
<li><strong>step</strong> &#8211; Step size in nm</li>
<li><strong>order</strong> &#8211; Folding order</li>
<li><strong>poly_order</strong> &#8211; Order of the polynomial used to fit
continuum.</li>
<li><strong>calibration_laser_map_path</strong> &#8211; (Optional) If not None the
cube is considered to be uncalibrated in wavelength. In this
case the calibration laser wavelength (nm_laser) must also
be given (default None).</li>
<li><strong>nm_laser</strong> &#8211; (Optional) Calibration laser wavelentgh. Must
be given if calibration_laser_map_path is not None (default
None).</li>
<li><strong>fix_fwhm</strong> &#8211; If True fix FWHM to its guess (default
False).</li>
<li><strong>fmodel</strong> &#8211; (Optional) Type of line to fit. Can be
&#8216;gaussian&#8217; or &#8216;sinc&#8217; (default &#8216;gaussian&#8217;).</li>
<li><strong>cov_pos</strong> &#8211; (Optional) Lines positions in each spectrum
are shifted by the same value.</li>
<li><strong>cov_fwhm</strong> &#8211; (Optional) FWHM is the same for all the lines
in each spectrum.</li>
<li><strong>x_range</strong> &#8211; (Optional) Range of columns over which the
extraction must be done.</li>
<li><strong>y_range</strong> &#8211; (Optional) Range of rows over which the
extraction must be done.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Sky_regions_file_path:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body"><p class="first last">(Optional) Path to a ds9 region file
giving the pixels where the sky spectrum has to be
extracted. This spectrum will be substracted to the spectral
cube before it is fitted (default None).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube.extract_raw_lines_maps">
<code class="descname">extract_raw_lines_maps</code><span class="sig-paren">(</span><em>lines</em>, <em>lines_velocity</em>, <em>lines_fwhm</em>, <em>step</em>, <em>order</em>, <em>wavenumber</em>, <em>calibration_laser_map_path=None</em>, <em>nm_laser=None</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube.extract_raw_lines_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Raw extraction of a portion of the spectral cube. Return
the mean of the slice.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lines</strong> &#8211; Lines rest frame. Must be given in the unit of
the cube (cm-1 if wavenumber is True, nm if False)</li>
<li><strong>lines_velocity</strong> &#8211; Mean Lines velocity in km.s-1.</li>
<li><strong>lines_fwhm</strong> &#8211; Expected FWHM of the lines. Must be given
in the unit of the cube (cm-1 if wavenumber is True, nm if
False)</li>
<li><strong>step</strong> &#8211; Step size in nm</li>
<li><strong>order</strong> &#8211; Folding order</li>
<li><strong>wavenumber</strong> &#8211; If True the cube is in wavenumber else it
is in wavelength.</li>
<li><strong>calibration_laser_map_path</strong> &#8211; (Optional) If not None the
cube is considered to be uncalibrated in wavelength. In this
case the calibration laser wavelength (nm_laser) must also
be given (default None).</li>
<li><strong>nm_laser</strong> &#8211; (Optional) Calibration laser wavelentgh. Must
be given if calibration_laser_map_path is not None (default
None).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="orcs.orcs.SpectralCube.get_sky_radial_velocity">
<code class="descname">get_sky_radial_velocity</code><span class="sig-paren">(</span><em>sky_regions_file_path</em>, <em>lines_fwhm</em>, <em>filter_range</em>, <em>wavenumber</em>, <em>step</em>, <em>order</em>, <em>poly_order=0</em>, <em>calibration_laser_map_path=None</em>, <em>nm_laser=None</em>, <em>fix_fwhm=False</em>, <em>fmodel='gaussian'</em>, <em>show=True</em><span class="sig-paren">)</span><a class="headerlink" href="#orcs.orcs.SpectralCube.get_sky_radial_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sky radial velocity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Sky_regions_file_path:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body"><p class="first">Path to a ds9 region file giving the
pixels where the sky spectrum has to be extracted.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lines_fwhm</strong> &#8211; Expected FWHM of the lines. Must be given
in the unit of the cube (cm-1 if wavenumber is True, nm if
False)</li>
<li><strong>filter_range</strong> &#8211; A tuple giving the min and max
wavelength/wavenumber of the filter bandpass. Must be given
in the unit of the cube (cm-1 if wavenumber is True, nm if
False)</li>
<li><strong>wavenumber</strong> &#8211; If True the cube is in wavenumber else it
is in wavelength.</li>
<li><strong>step</strong> &#8211; Step size in nm</li>
<li><strong>order</strong> &#8211; Folding order</li>
<li><strong>poly_order</strong> &#8211; Order of the polynomial used to fit
continuum.</li>
<li><strong>calibration_laser_map_path</strong> &#8211; (Optional) If not None the
cube is considered to be uncalibrated in wavelength. In this
case the calibration laser wavelength (nm_laser) must also
be given (default None).</li>
<li><strong>nm_laser</strong> &#8211; (Optional) Calibration laser wavelentgh. Must
be given if calibration_laser_map_path is not None (default
None).</li>
<li><strong>fix_fwhm</strong> &#8211; If True fix FWHM to its guess (default
False).</li>
<li><strong>fmodel</strong> &#8211; (Optional) Type of line to fit. Can be
&#8216;gaussian&#8217; or &#8216;sinc&#8217; (default &#8216;gaussian&#8217;).</li>
<li><strong>show</strong> &#8211; (Optional) If True, show the sky spectrum and the
fitted function (default True).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Use <code class="xref py py-class docutils literal"><span class="pre">orb.core.Lines</span></code> to get the sky lines
to fit.</p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="rvcorrect_module.html" title="RVCorrect module"
             >next</a> |</li>
        <li class="right" >
          <a href="quick_start.html" title="Quick start Guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Orcs 0.9.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Thomas Martin (thomas.martin.1@ulaval.ca).
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>