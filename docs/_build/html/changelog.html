

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Changelog &mdash; Orcs 2.0.3 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/logo.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Orcs 2.0.3 documentation" href="index.html"/>
        <link rel="prev" title="Utils module" href="utils_module.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Orcs
          

          
            
            <img src="_static/logo_sidebar.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="script_example_fit_a_single_spectrum.html">Example of a single spectrum fit.</a></li>
<li class="toctree-l1"><a class="reference internal" href="script_example_model+fit_1_line.html">Modelling and fitting a single line spectrum</a></li>
<li class="toctree-l1"><a class="reference internal" href="script_example_model+fit_2_lines.html">Modelling and fitting a spectrum with two resolved lines</a></li>
<li class="toctree-l1"><a class="reference internal" href="script_example_model+fit_2_lines_bayes.html">Modelling and fitting two unresolved emission lines with a bayesian approach</a></li>
<li class="toctree-l1"><a class="reference internal" href="script_example_wavelength_calibration.html">Wavelength recalibration with the sky lines (Mendel OH bands)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="core_module.html">Core module</a></li>
<li class="toctree-l1"><a class="reference internal" href="process_module.html">Process module</a></li>
<li class="toctree-l1"><a class="reference internal" href="rvcorrect_module.html">RVCorrect module</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils_module.html">Utils module</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#v0-9-orcs-integration-to-orb-suite">v0.9 ORCS integration to ORB suite</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#v0-9-1">v0.9.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#recoded-methods">Recoded methods:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bug-fix">bug fix:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v0-9-2">v0.9.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v0-9-3">v0.9.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#v0-9-4">v0.9.4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-0-new-fit-class">v1.0 New fit class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#v1-0-0">v1.0.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#new-operations">New operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#binning">Binning</a></li>
<li class="toctree-l4"><a class="reference internal" href="#velocity-range">Velocity range</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multiple-fit">Multiple fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#v1-0-1">v1.0.1</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="script_example_fit_a_single_spectrum.html">Example of a single spectrum fit.</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Orcs</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Changelog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/changelog.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="v0-9-orcs-integration-to-orb-suite">
<h2>v0.9 ORCS integration to ORB suite<a class="headerlink" href="#v0-9-orcs-integration-to-orb-suite" title="Permalink to this headline">¶</a></h2>
<p>Major architecture changes to respect ORBS concept.</p>
<ul class="simple">
<li>creation of <code class="xref py py-class docutils literal"><span class="pre">orcs.orcs.Orcs</span></code> as a user-interface</li>
<li><code class="xref py py-class docutils literal"><span class="pre">orcs.orcs.SpectralCube</span></code> becomes a processing class based on
<code class="xref py py-class docutils literal"><span class="pre">orb.core.Cube</span></code>.</li>
<li>wavenumber / wavelength and calibrated / uncalibrated
extraction. The best extraction is thus based on a wavenumber
uncalibrated spectrum cube which spectra have never been
interpolated so their spectral information has not been
corrupted. The 3 other configurations are also possible.</li>
<li>Modification of the option file keywords</li>
<li>Creation of the executable script <strong>orcs</strong> which runs the extraction
process directly</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Up to v1.0 some secondaries functionalities have been
deactivated because they have to be rewritten since the
architecture change. They will be added on future releases.</p>
</div>
<div class="section" id="v0-9-1">
<h3>v0.9.1<a class="headerlink" href="#v0-9-1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="recoded-methods">
<h4>Recoded methods:<a class="headerlink" href="#recoded-methods" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>py:meth:<cite>orcs.orcs.SpectralCube.extract_raw_lines_maps</cite> and its
wrapper py:meth:<cite>orcs.orcs.Orcs.extract_raw_lines_maps</cite>.</li>
</ul>
</div>
<div class="section" id="bug-fix">
<h4>bug fix:<a class="headerlink" href="#bug-fix" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Conversion of the fwhm from cm-1/nm to pixels before fit</li>
</ul>
</div>
</div>
<div class="section" id="v0-9-2">
<h3>v0.9.2<a class="headerlink" href="#v0-9-2" title="Permalink to this headline">¶</a></h3>
<p>bug fix: Treat cubes without astrometrical calibration</p>
</div>
<div class="section" id="v0-9-3">
<h3>v0.9.3<a class="headerlink" href="#v0-9-3" title="Permalink to this headline">¶</a></h3>
<p><strong>scripts/orcs</strong>: Command line call changed in order to switch from
the deprecated getopt module to the argparse module and make it
similar to the <strong>orbs</strong> script of ORBS.</p>
<p>bug fix: WCS headers of the original cube is transfered to the output
maps.</p>
</div>
<div class="section" id="v0-9-4">
<h3>v0.9.4<a class="headerlink" href="#v0-9-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>ORCS now handles HDF5 cubes only (the last ORBS reduction step must
thus be redone)</li>
<li>keyword DIRSPEC has been changed to CUBEPATH</li>
<li>bug fix: a lorentzian function was added to a sinc function since
v0.9.2 resulting in poorer fit and a bad SNR (roughly divided by
2). This is no more the case.</li>
</ul>
</div>
</div>
<div class="section" id="v1-0-new-fit-class">
<h2>v1.0 New fit class<a class="headerlink" href="#v1-0-new-fit-class" title="Permalink to this headline">¶</a></h2>
<p>A new fit module has been designed in ORB (orb/fit.py). ORCS has been
changed to use this new module.</p>
<p>Most of the changes are related to this major upgrade.</p>
<div class="section" id="v1-0-0">
<h3>v1.0.0<a class="headerlink" href="#v1-0-0" title="Permalink to this headline">¶</a></h3>
<div class="section" id="new-operations">
<h4>New operations<a class="headerlink" href="#new-operations" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>new operation in orcs command: <strong>&#8216;check&#8217;</strong>, to fit the integrated
spectrum of one region. The idea is to select a small region with
high SNR to test if the fitting procedure works as expected before
launching a long fit process on a larger region.</li>
<li>new operation in orcs command: <strong>&#8216;skymap&#8217;</strong> : fit the sky velocity
on a high number of points and returns an interpolated map of the
velocity zero point.</li>
</ul>
</div>
<div class="section" id="binning">
<h4>Binning<a class="headerlink" href="#binning" title="Permalink to this headline">¶</a></h4>
<p>Binning before a fit is now possible. The cube does not have to be
binned, ORCS does it on the fly. Created binned maps are used by ORCS
to fit a cube with a smaller binning. For example it can be more
robust to start the first fit with a high binning value (e.g. 10x10)
and lower the binning down to 1x1 (e.g. 10x10 then 6x6 then 3x3 then
1x1). This way the last computed parameters (especially the velocity)
will be used in the next fit: 10x10 parameters will be used by the 6x6
fit, then 6x6 parameters will be used by the 3x3 fit etc.</p>
</div>
<div class="section" id="velocity-range">
<h4>Velocity range<a class="headerlink" href="#velocity-range" title="Permalink to this headline">¶</a></h4>
<p>A brute force procedure can be run on each spectrum to guess the real
velocity in a certain range around the object mean velocity. Works
very well on spectrum with a good SNR (&gt; 10). But may be wrong on low
SNR spectra. This function is best used with binned fit.</p>
<p>Note that if the velocity has already been computed with a higher
binning, this value will be used as an initial guess and the velocity
range won&#8217;t be taken into account. This way, using the velocity range
with a 10x10 binning is the best way to recover the general velocity
profile of a galaxy and use it as an initial guess fot a smaller
binning fit.</p>
<p>The guess of a higher binning fit wil be used only if its uncertainty
is small enough (around 1/5 of the resolution)</p>
</div>
<div class="section" id="multiple-fit">
<h4>Multiple fit<a class="headerlink" href="#multiple-fit" title="Permalink to this headline">¶</a></h4>
<p>Multiple fits can be done. The newly fitted pixels will replace the
previous ones and the other pixels will be kept. This way multiple
regions with different velocities can be fitted one after the other.</p>
</div>
<div class="section" id="miscellaneous">
<h4>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>ORCS uses the internal calibration map of the HDF5 cube by default.
If it exists CALIB_MAP keyword is not used, so in general this
keyword can be removed if the cube has been exported recently.</li>
<li>SNR and CHI2 maps have been removed</li>
<li>FLUX maps are computed and written in output</li>
</ul>
</div>
</div>
<div class="section" id="v1-0-1">
<h3>v1.0.1<a class="headerlink" href="#v1-0-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>added X and Y range options when computing velocity maps (options -x
and -y)</li>
<li>added exclusion region when computing sky velocity maps (option
&#8211;exclude)</li>
<li>bug with SIG_COV corrected when defining a different broadening group
for sky lines.</li>
<li>call to <code class="xref py py-meth docutils literal"><span class="pre">orb.utils.misc.get_mask_from_ds9_region_file()</span></code>
modified to follow the update of ORB which now uses pyregion.</li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="utils_module.html" class="btn btn-neutral" title="Utils module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Thomas Martin (thomas.martin.1@ulaval.ca).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.0.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>